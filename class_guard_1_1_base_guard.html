<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>Kalinka: Guard\BaseGuard Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">Kalinka
   </div>
   <div id="projectbrief">Flexible authorization library for PHP</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.1.2 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><b>Guard</b></li><li class="navelem"><a class="el" href="class_guard_1_1_base_guard.html">BaseGuard</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="class_guard_1_1_base_guard-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">Guard\BaseGuard Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Base class for Guard classes, which define security policies.  
 <a href="class_guard_1_1_base_guard.html#details">More...</a></p>
<div class="dynheader">
Inheritance diagram for Guard\BaseGuard:</div>
<div class="dyncontent">
 <div class="center">
  <img src="class_guard_1_1_base_guard.png" usemap="#Guard\BaseGuard_map" alt=""/>
  <map id="Guard\BaseGuard_map" name="Guard\BaseGuard_map">
<area href="interface_guard_1_1_guard_interface.html" title="Interface class for Guard classes, which define security policies." alt="Guard\GuardInterface" shape="rect" coords="0,0,136,24"/>
</map>
 </div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:ae6cbced82cb05f3bfd65fd1b6ecd85e0"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_guard_1_1_base_guard.html#ae6cbced82cb05f3bfd65fd1b6ecd85e0">checkPolicy</a> ($name, $subject, $object=null)</td></tr>
<tr class="memdesc:ae6cbced82cb05f3bfd65fd1b6ecd85e0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Checks if the named policy permits access.  <a href="#ae6cbced82cb05f3bfd65fd1b6ecd85e0"></a><br/></td></tr>
<tr class="memitem:a781db39e59281c6f32474110e27927be"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_guard_1_1_base_guard.html#a781db39e59281c6f32474110e27927be">checkPolicyList</a> ($policies, $subject, $object=null)</td></tr>
<tr class="memdesc:a781db39e59281c6f32474110e27927be"><td class="mdescLeft">&#160;</td><td class="mdescRight">Checks if a policy list collectively permits access.  <a href="#a781db39e59281c6f32474110e27927be"></a><br/></td></tr>
<tr class="memitem:aedc419ffc68323f3aa93a4fce298cb3e"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_guard_1_1_base_guard.html#aedc419ffc68323f3aa93a4fce298cb3e">getPolicies</a> ()</td></tr>
<tr class="memdesc:aedc419ffc68323f3aa93a4fce298cb3e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns a list of the named policies supported by this Guard.  <a href="#aedc419ffc68323f3aa93a4fce298cb3e"></a><br/></td></tr>
<tr class="memitem:ab6031e143afa47b6173794fa3325d437"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_guard_1_1_base_guard.html#ab6031e143afa47b6173794fa3325d437">getActions</a> ()</td></tr>
<tr class="memdesc:ab6031e143afa47b6173794fa3325d437"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns a list of possible actions on the guarded resource.  <a href="#ab6031e143afa47b6173794fa3325d437"></a><br/></td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2><a name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:a8a733b3e7da6d144e42c64bd461026cb"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_guard_1_1_base_guard.html#a8a733b3e7da6d144e42c64bd461026cb">policyAllow</a> ()</td></tr>
<tr class="memdesc:a8a733b3e7da6d144e42c64bd461026cb"><td class="mdescLeft">&#160;</td><td class="mdescRight">A policy that always returns <code>true</code>.  <a href="#a8a733b3e7da6d144e42c64bd461026cb"></a><br/></td></tr>
</table>
<a name="details" id="details"></a><h2>Detailed Description</h2>
<div class="textblock"><p>Base class for Guard classes, which define security policies. </p>
<p>Note that whether or not the policies actually apply in any given case is determed by Authorizers; the Guard classes simply make the policies available.</p>
<p>Your application should create a class which extends <a class="el" href="class_guard_1_1_base_guard.html" title="Base class for Guard classes, which define security policies.">BaseGuard</a> and includes any policies that apply based on the subject alone (e.g. checking if the user has an admin flag set). Then, any resources in your application that have policies specifically related to them (e.g. checking if a post is marked as editable) or involving a relationship between them and the subject (e.g. checking if a post is owned by the current user) need their own Guard class that extend from your app's Guard class.</p>
<p>Examples of how to write Guards are available in <a href="index.html">README.md</a>.</p>
<p>Besides deriving from this class, it can sometimes be useful to map a resource directly to <a class="el" href="class_guard_1_1_base_guard.html" title="Base class for Guard classes, which define security policies.">BaseGuard</a>, or to your application's base guard class. This way, you can have "virtual" resources, which are not associated with any <code>object</code>. For example, suppose you want to control access to a global system reset button. You could map a resource type named <code>system</code> to <a class="el" href="class_guard_1_1_base_guard.html" title="Base class for Guard classes, which define security policies.">BaseGuard</a>, with a single action <code>reset</code>. You may then call <code>can("reset", "system")</code> on your Authorizer to check access to the button, as the third argument of <code>can()</code> defaults to <code>null</code>. </p>
</div><h2>Member Function Documentation</h2>
<a class="anchor" id="ae6cbced82cb05f3bfd65fd1b6ecd85e0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Guard\BaseGuard::checkPolicy </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$subject</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$object</em> = <code>null</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Checks if the named policy permits access. </p>
<p>This method looks for a method named policyFoo, where "foo" is the value of <code>$name</code> (the first letter of the policy name is automatically capitalized). That method must return a boolean value; <code>null</code> is <em>not</em> automatically assumed to be false.</p>
<dl class="section return"><dt>Returns</dt><dd>Boolean </dd></dl>

<p>Implements <a class="el" href="interface_guard_1_1_guard_interface.html#a3d97128d00cf9d8f8d73008784d01c55">Guard\GuardInterface</a>.</p>

</div>
</div>
<a class="anchor" id="a781db39e59281c6f32474110e27927be"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Guard\BaseGuard::checkPolicyList </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$policies</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$subject</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$object</em> = <code>null</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Checks if a policy list collectively permits access. </p>
<p>Every entry in the list must permit access for the list overall to do so (i.e. the list is joined by logical ANDs).</p>
<p>Individual entries in the list can be a string with a policy names, or an array of policies. These sub-arrays will approve access as a whole if any item in the sub-array does so (i.e. the sub-array is joined by logical ORs).</p>
<p>For example, if you pass <code>["a", ["b", "c"]]</code> to checkPolicyList, it will return true only if <code>policyA</code> returns true <em>AND</em> at least one of <code>policyB</code> or <code>policyC</code> return true.</p>
<dl class="section return"><dt>Returns</dt><dd>Boolean </dd></dl>

<p>Implements <a class="el" href="interface_guard_1_1_guard_interface.html#a8375afcc5ae98fe7ae480ffa9ebac630">Guard\GuardInterface</a>.</p>

</div>
</div>
<a class="anchor" id="ab6031e143afa47b6173794fa3325d437"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">Guard\BaseGuard::getActions </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">abstract</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns a list of possible actions on the guarded resource. </p>
<dl class="section return"><dt>Returns</dt><dd>Array of strings </dd></dl>

<p>Implements <a class="el" href="interface_guard_1_1_guard_interface.html#ac9b3df1467ed43bef5b65c1bed64943e">Guard\GuardInterface</a>.</p>

</div>
</div>
<a class="anchor" id="aedc419ffc68323f3aa93a4fce298cb3e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Guard\BaseGuard::getPolicies </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns a list of the named policies supported by this Guard. </p>
<p>This list is generated based on method names starting with 'policy'. </p>

<p>Implements <a class="el" href="interface_guard_1_1_guard_interface.html#a7508c34e4681f75b85c20ffd196c9487">Guard\GuardInterface</a>.</p>

</div>
</div>
<a class="anchor" id="a8a733b3e7da6d144e42c64bd461026cb"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">Guard\BaseGuard::policyAllow </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>A policy that always returns <code>true</code>. </p>
<p>This is useful in Authorizer configurations when you just want to make some action generally accessible. </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>src/Guard/BaseGuard.php</li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Mon Apr 7 2014 16:58:54 for Kalinka by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.1.2
</small></address>
</body>
</html>
